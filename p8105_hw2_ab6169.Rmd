---
title: "p8105_hw2_ab6169"
author: "Amrutha Banda"
date: "2025-09-25"
output: html_document
---

## Problem 1

First, I load my libraries
```{r setup, include=FALSE}
library(tidyverse)
library(janitor) 
library(readxl)
```

Cleaning the `pols-month.csv` data
```{r message = FALSE}
pols_df= 
  read_csv("data_hw2/pols-month.csv", na = c("NA", ".", "")) |>
separate(mon, into = c("year", "month", "day"), sep = "-") |>
mutate(
  year = as.integer(year),
  month = as.integer(month),
  month = month.name[month],
  president = ifelse(prez_gop == 1, "gop", "dem")) |>

  select(-day, -prez_gop, -prez_dem)
```


Cleaning the `snp.csv` data

```{r message = FALSE}
snp_df= 
  read_csv("data_hw2/snp.csv", na = c("NA", ".", ""))|>
  separate(date, into = c("month", "day", "year"), sep = "/") |>
  mutate(
    year = as.integer(year),
    month = as.integer(month),
    month = month.name[month]) |>
  select(year, month, close) |>
  arrange(year, month)
```

Cleaning the `unemployment.csv` data



```{r message = FALSE}
unemployment_df= 
  read_csv("data_hw2/unemployment.csv", na = c("NA", ".", "")) |>
pivot_longer(
    cols = Jan:Dec,      
    names_to = "month",
    values_to = "unemployment"
  ) |>
  mutate(
    month = case_match(
      month,
      "Jan" ~ "January",
      "Feb" ~ "February",
      "Mar" ~ "March",
      "Apr" ~ "April",
      "May" ~ "May",
      "Jun" ~ "June",
      "Jul" ~ "July",
      "Aug" ~ "August",
      "Sep" ~ "September",
      "Oct" ~ "October",
      "Nov" ~ "November",
      "Dec" ~ "December") ) |> 
  rename(year = Year) |>
  select(year, month, unemployment)
```

Merging `snp.csv` and `pol-month.csv` and `unemployment.csv`
```{r message = FALSE}
merged_df= 
pols_df |>
  left_join(snp_df, by = c("year", "month")) |>
  left_join(unemployment_df, by = c("year", "month"))
```

Write-Up: 

## Problem 2 

```{r}
mr_trash_df =
  read_excel("data_hw2/trashwheeldata.xlsx", skip = 1, na= c("NA", ".", "")) |> 
janitor:: clean_names() |> 
drop_na(dumpster)

```

